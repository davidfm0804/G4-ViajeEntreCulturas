<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuración</title>
    <link rel="icon" href="../src/img/mapa.jpg" type="image/x-icon">
    <link rel="stylesheet" href="../src/css/estiloSilva.css">
</head>
<body>
    <header>
        <img src="../src/img/logo.png" alt="Logo">
        <h1>Viaje entre Culturas</h1>
    </header>
    <main>        
         <h2>Listado de países</h2>
         <button id="altaPais">Alta país</button>
         <table>
            <tr>
                <th class="cabecera">Bandera</th>
                <th class="cabecera">Nombre</th>
                <th class="cabecera">Modificar</th>
                <th class="cabecera">Borrar</th>
            </tr>
            <tr>
                <td><img class="flag" src="../src/img/banderas/brasil.png" alt="Brasil"></td>
                <td class="colNombre">Brasil</td>
                <td><button><img class="png" src="../src/img/modificar.png"></button></td>
                <td><button><img class="png" src="../src/img/borrar.png"></button></td>
            </tr>
            <tr>
                <td><img class="flag" src="../src/img/banderas/egipto.png" alt="Egipto"></td>
                <td class="colNombre">Egipto</td>
                <td><button><img class="png" src="../src/img/modificar.png"></button></td>
                <td><button><img class="png" src="../src/img/borrar.png"></button></td>
            </tr>
            <tr>
                <td><img class="flag" src="../src/img/banderas/india.png" alt="India"></td>
                <td class="colNombre">India</td>
                <td><button><img class="png" src="../src/img/modificar.png"></button></td>
                <td><button><img class="png" src="../src/img/borrar.png"></button></td>
            </tr>
            <tr>
                <td><img class="flag" src="../src/img/banderas/mexico.png" alt="Mexico"></td>
                <td class="colNombre">México</td>
                <td><button><img class="png" src="../src/img/modificar.png"></button></td>
                <td><button><img class="png" src="../src/img/borrar.png"></button></td>
            </tr>
            <tr>
                <td><img class="flag" src="../src/img/banderas/noruega.png" alt="Noruega"></td>
                <td class="colNombre">Noruega</td>
                <td><button><img class="png" src="../src/img/modificar.png"></button></td>
                <td><button><img class="png" src="../src/img/borrar.png"></button></td>
            </tr>
            <tr>
                <td><img class="flag" src="../src/img/banderas/nuevaZelanda.png" alt="Nueva Zelanda"></td>
                <td class="colNombre">Nueva Zelanda</td>
                <td><button><img class="png" src="../src/img/modificar.png"></button></td>
                <td><button><img class="png" src="../src/img/borrar.png"></button></td>
            </tr>
            <tr>
                <td><img class="flag" src="../src/img/banderas/sudafrica.png" alt="Sudáfrica"></td>
                <td class="colNombre">Sudáfrica</td>
                <td><button><img class="png" src="../src/img/modificar.png"></button></td>
                <td><button><img class="png" src="../src/img/borrar.png"></button></td>
            </tr>
            <tr>
                <td><img class="flag" src="../src/img/banderas/tailandia.png" alt="Tailandia"></td>
                <td class="colNombre">Tailandia</td>
                <td><button><img class="png" src="../src/img/modificar.png"></button></td>
                <td><button><img class="png" src="../src/img/borrar.png"></button></td>
            </tr>

         </table>
         <h2>Borrar país por ID</h2>
         <form id="deleteCountryForm">
             <label for="countryId">ID del país:</label>
             <input type="number" id="countryId" name="id" required>
             <button type="submit">Borrar</button>
         </form>

    </main>
    <script src="../src/js/00mainCrud.js"></script>
    <script>
    document.getElementById('deleteCountryForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const formData = new FormData(this);
        fetch('../src/php/04borrarPais.php', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                alert('País borrado exitosamente');
            } else {
                alert('Error al borrar el país: ' + data.error);
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    });
    </script>
</body>
</html>
